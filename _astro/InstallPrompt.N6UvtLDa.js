import{d as e,m as t,b as i,y as l,C as n,o as s,f as a,g as o,t as r,i as d,j as c,l as f,n as p,A as u,r as g,k as h,z as m}from"./solid-core.DXeZPQOr.js";import{$ as w}from"./exercises.CmwZ4dJn.js";import{c as v}from"./island-practice.Crw8XKdE.js";var b=r('<div class="fixed bottom-0 left-0 right-0 z-50 bg-white border-t-2 border-blue-500 shadow-lg md:bottom-4 md:left-4 md:right-auto md:max-w-md md:rounded-lg md:border-2"role=dialog aria-labelledby=install-prompt-title aria-describedby=install-prompt-description><div class=p-4><div class="flex items-start gap-3 mb-3"><div class="flex-shrink-0 w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center"><svg class="w-8 h-8 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></div><div class="flex-1 min-w-0"><h3 id=install-prompt-title class="text-lg font-semibold text-gray-900 mb-1"></h3><p id=install-prompt-description class="text-sm text-gray-600"></p></div><button type=button class="flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 touch-target"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><ul class="space-y-2 mb-4 text-sm text-gray-600"><li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-500 flex-shrink-0"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg><span></span></li><li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-500 flex-shrink-0"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg><span></span></li><li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-500 flex-shrink-0"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg><span></span></li></ul><div class="flex gap-2"><button type=button class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed touch-target"></button><button type=button class="px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 touch-target">'),x=r('<div class="fixed inset-0 bg-black bg-opacity-25 z-40 md:hidden"aria-hidden=true>'),y=r('<span class="flex items-center justify-center gap-2"><svg class="animate-spin h-4 w-4"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span>');const k="math-install-prompt-dismissed";function C(){const e=t(w),[r,C]=i(null),[S,$]=i(!1),[j,z]=i(!1),[L,M]=i(!1);let B;const E=v(()=>B,{preventScroll:!0,allowEscape:!0,onDeactivate:()=>H()});l(()=>{S()&&!j()?E.activate():E.deactivate()});const D=e=>{e.preventDefault();C(e),(()=>{if("undefined"==typeof window||"undefined"==typeof localStorage)return!1;try{const e=localStorage.getItem(k);if(!e)return!1;const t=parseInt(e,10);return(Date.now()-t)/864e5<30}catch{return!1}})()||$(!0)},I=()=>{z(!0),$(!1),C(null)},A=async()=>{const e=r();if(e){M(!0);try{await e.prompt();const{outcome:t}=await e.userChoice;C(null),$(!1)}catch(t){}finally{M(!1)}}},H=()=>{if("undefined"!=typeof window&&"undefined"!=typeof localStorage)try{localStorage.setItem(k,Date.now().toString())}catch(e){}$(!1)};return n(()=>{"undefined"!=typeof window&&((()=>{if("undefined"==typeof window)return;const e=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone;z(e)})(),window.addEventListener("beforeinstallprompt",D),window.addEventListener("appinstalled",I))}),s(()=>{"undefined"!=typeof window&&(window.removeEventListener("beforeinstallprompt",D),window.removeEventListener("appinstalled",I))}),a(c,{get when(){return h(()=>!!S())()&&!j()},get children(){return[(i=o(b),l=i.firstChild.firstChild,n=l.firstChild.nextSibling,s=n.firstChild,r=s.nextSibling,h=n.nextSibling,w=l.nextSibling,v=w.firstChild,k=v.firstChild.nextSibling,C=v.nextSibling,S=C.firstChild.nextSibling,$=C.nextSibling.firstChild.nextSibling,j=w.nextSibling.firstChild,z=j.nextSibling,"function"==typeof B?m(B,i):B=i,d(s,()=>e()("pwa.install.title")),d(r,()=>e()("pwa.install.description")),h.$$click=H,d(k,()=>e()("pwa.install.feature.offline")),d(S,()=>e()("pwa.install.feature.faster")),d($,()=>e()("pwa.install.feature.homescreen")),j.$$click=A,d(j,a(c,{get when(){return!L()},get fallback(){return t=o(y),i=t.firstChild.nextSibling,d(i,()=>e()("common.status.loading")),t;var t,i},get children(){return e()("pwa.install.button")}})),z.$$click=H,d(z,()=>e()("pwa.install.dismiss")),f(t=>{var i=e()("common.actions.close"),l=L();return i!==t.e&&p(h,"aria-label",t.e=i),l!==t.t&&u(j,"disabled",t.t=l),t},{e:void 0,t:void 0}),g(),i),(t=o(x),t.$$click=H,g(),t)];var t,i,l,n,s,r,h,w,v,k,C,S,$,j,z}})}e(["click"]);export{C as default};
