import{d as e,f as t,m as i,b as r,g as l,t as a,h as n,i as s,j as o,k as c,l as g,w as h,n as d,A as u,r as w}from"./solid-core.DXeZPQOr.js";import{$ as b,a as m,b as f}from"./exercises.CmwZ4dJn.js";import{g as v,u as p}from"./island-settings.CRmBYshX.js";import{E as x}from"./island-practice.Crw8XKdE.js";import"./island-dashboard.Bt_Br7pH.js";import"./mastery.BYaRoLpV.js";import"./supabase.BYn26wLR.js";import"./vendor.CmgFkl6N.js";import"./qrcode.B15vZz8I.js";var y=a("<span class=font-medium>"),S=a('<span class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"aria-hidden=true>'),$=a('<div class="flex items-center text-sm text-gray-600"role=status aria-live=polite><svg class="w-4 h-4 mr-2 animate-spin"fill=none viewBox="0 0 24 24"aria-hidden=true><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span>'),j=a('<div class="text-sm text-red-600 px-2"role=alert aria-live=assertive>'),C=a('<div role=group><button type=button><svg class="w-6 h-6 flex-shrink-0"viewBox="0 0 37 28"fill=none xmlns=http://www.w3.org/2000/svg aria-hidden=true><rect width=37 height=28 fill=#C8102E></rect><rect x=12 width=4 height=28 fill=white></rect><rect y=12 width=37 height=4 fill=white></rect></svg><!$><!/><!$><!/></button><button type=button><svg class="w-6 h-6 flex-shrink-0"viewBox="0 0 37 28"fill=none xmlns=http://www.w3.org/2000/svg aria-hidden=true><rect width=37 height=28 fill=#B22234></rect><rect y=4 width=37 height=2 fill=white></rect><rect y=8 width=37 height=2 fill=white></rect><rect y=12 width=37 height=2 fill=white></rect><rect y=16 width=37 height=2 fill=white></rect><rect y=20 width=37 height=2 fill=white></rect><rect y=24 width=37 height=2 fill=white></rect><rect width=15 height=12 fill=#3C3B6E></rect></svg><!$><!/><!$><!/></button><!$><!/><!$><!/>');const k=e=>{const a=i(b),x=i(m),[k,B]=r(!1),[D,K]=r(null),z=()=>e.variant||"full",E=async e=>{if(x()!==e){B(!0),K(null);try{await f(e);try{const t=await v();if(t){(await p(t.id,{locale:e})).success}}catch(t){}}catch(i){K("Failed to change language")}finally{B(!1)}}},U=e=>x()===e,M=e=>{const t=(()=>{const e="flex items-center gap-2 p-3 rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-300 min-w-44px min-h-44px disabled:opacity-50 disabled:cursor-not-allowed";return"compact"===z()?`${e} justify-center`:e})();return U(e)?`${t} bg-blue-600 text-white shadow-md hover:bg-blue-700 active:bg-blue-800`:`${t} bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400 hover:bg-blue-50 active:bg-blue-100`},A=()=>`language-selector ${"horizontal"===(e.layout||"horizontal")?"flex flex-row gap-2":"flex flex-col gap-2"} ${e.class||""}`;return(()=>{var e=l(C),i=e.firstChild,r=i.firstChild.nextSibling,[b,m]=n(r.nextSibling),f=b.nextSibling,[v,p]=n(f.nextSibling),x=i.nextSibling,B=x.firstChild.nextSibling,[K,F]=n(B.nextSibling),H=K.nextSibling,[L,q]=n(H.nextSibling),G=x.nextSibling,[J,N]=n(G.nextSibling),V=J.nextSibling,[I,O]=n(V.nextSibling);return i.$$click=()=>E("da-DK"),s(i,t(o,{get when(){return"full"===z()},get children(){var e=l(y);return s(e,()=>a()("common.language.selector.danish")),e}}),b,m),s(i,t(o,{get when(){return c(()=>"compact"===z())()&&U("da-DK")},get children(){return l(S)}}),v,p),x.$$click=()=>E("en-US"),s(x,t(o,{get when(){return"full"===z()},get children(){var e=l(y);return s(e,()=>a()("common.language.selector.english")),e}}),K,F),s(x,t(o,{get when(){return c(()=>"compact"===z())()&&U("en-US")},get children(){return l(S)}}),L,q),s(e,t(o,{get when(){return k()},get children(){var e=l($),t=e.firstChild.nextSibling;return s(t,()=>a()("common.language.selector.changingLanguage")),e}}),J,N),s(e,t(o,{get when(){return D()},get children(){var e=l(j);return s(e,D),e}}),I,O),g(t=>{var r=A(),l=a()("common.language.selector.title"),n=k(),s=M("da-DK"),o=a()("common.language.selector.danish"),c=U("da-DK"),g=a()("common.language.selector.danish"),w=k(),b=M("en-US"),m=a()("common.language.selector.english"),f=U("en-US"),v=a()("common.language.selector.english");return r!==t.e&&h(e,t.e=r),l!==t.t&&d(e,"aria-label",t.t=l),n!==t.a&&u(i,"disabled",t.a=n),s!==t.o&&h(i,t.o=s),o!==t.i&&d(i,"aria-label",t.i=o),c!==t.n&&d(i,"aria-pressed",t.n=c),g!==t.s&&d(i,"title",t.s=g),w!==t.h&&u(x,"disabled",t.h=w),b!==t.r&&h(x,t.r=b),m!==t.d&&d(x,"aria-label",t.d=m),f!==t.l&&d(x,"aria-pressed",t.l=f),v!==t.u&&d(x,"title",t.u=v),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),w(),e})()};function B(e){return t(x,{componentName:"LanguageSelector",errorMessageKey:"errors.general.unexpected",get children(){return t(k,e)}})}e(["click"]);export{B as default};
