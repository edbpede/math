import{m as e,e as r,f as t,g as o,h as n,i,S as s,j as a,F as d,l,E as c,t as g,w as u,n as h}from"./solid-core.DXeZPQOr.js";import{$ as m}from"./exercises.CmwZ4dJn.js";import{a as p}from"./mastery.BYaRoLpV.js";import"./island-dashboard.Bt_Br7pH.js";import"./supabase.BYn26wLR.js";import"./vendor.CmgFkl6N.js";import"./qrcode.B15vZz8I.js";var b=g('<svg class="h-6 w-6"fill=none stroke=currentColor viewBox="0 0 24 24"aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">'),v=g('<svg class="h-6 w-6"fill=none stroke=currentColor viewBox="0 0 24 24"aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">'),x=g('<svg class="h-6 w-6"fill=none stroke=currentColor viewBox="0 0 24 24"aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6">'),w=g('<svg class="h-6 w-6"fill=none stroke=currentColor viewBox="0 0 24 24"aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z">'),f=g("<div class=space-y-4>"),k=g('<div class=practice-recommendations><div class=mb-4><h2 class="text-2xl font-bold text-gray-900"></h2><p class="text-sm text-gray-600"></p></div><!$><!/>'),y=g('<div class="rounded-lg border-2 border-red-200 bg-red-50 p-4"><p class="text-sm text-red-800">'),j=g('<div class="h-32 animate-pulse rounded-lg bg-gray-200">'),C=g('<div class="rounded-lg border-2 border-green-200 bg-green-50 p-6 text-center"><div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-green-100"><svg class="h-6 w-6 text-green-600"fill=none stroke=currentColor viewBox="0 0 24 24"aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7"></path></svg></div><p class="text-lg font-semibold text-green-900">'),$=g('<div role=article><div class="flex items-start gap-4"><div aria-hidden=true></div><div class=flex-1><h3 class="mb-1 text-lg font-semibold text-gray-900"></h3><p class="mb-3 text-sm text-gray-700"></p><a><!$><!/><svg class="h-4 w-4"fill=none stroke=currentColor viewBox="0 0 24 24"aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">');const S=g=>{const S=e(m),[M]=r(async()=>await p(g.userId,20)),L=()=>{const e=M();if(!e)return[];const r=[],t=g.maxRecommendations??3;if(e.overdue.length>0){const t=e.overdue.length,o=e.overdue[0].competencyAreaId||"tal-og-algebra";r.push({id:"overdue",title:1===t?S()("progress.recommendations.overdueReviews",{count:t}):S()("progress.recommendations.overdueReviewsPlural",{count:t}),description:S()("progress.recommendations.reviewReady"),urgency:"high",actionUrl:`/practice/${o}`,actionLabel:S()("progress.recommendations.practiceNow"),icon:"overdue"})}if(e.today.length>0&&r.length<t){const t=e.today.length,o=e.today[0].competencyAreaId||"tal-og-algebra";r.push({id:"today",title:1===t?S()("progress.recommendations.todayReviews",{count:t}):S()("progress.recommendations.todayReviewsPlural",{count:t}),description:S()("progress.recommendations.reviewReady"),urgency:"medium",actionUrl:`/practice/${o}`,actionLabel:S()("progress.recommendations.practiceNow"),icon:"today"})}if(r.length<t){const e=B();r.push({id:"new-content",title:S()("progress.recommendations.exploreNew"),description:S()("progress.recommendations.newContent"),urgency:"low",actionUrl:`/practice/${e}`,actionLabel:S()("progress.recommendations.practiceNow"),icon:"new"})}return r.slice(0,t)},B=()=>"tal-og-algebra";return t(c,{fallback:()=>{return e=o(y),r=e.firstChild,i(r,()=>S()("progress.errors.loadFailed")),e;var e,r},get children(){var e=o(k),r=e.firstChild,c=r.firstChild,g=c.nextSibling,m=r.nextSibling,[p,y]=n(m.nextSibling);return i(c,()=>S()("progress.recommendations.title")),i(g,()=>S()("progress.recommendations.subtitle")),i(e,t(s,{get fallback(){return e=o(f),i(e,()=>Array.from({length:2}).map(()=>o(j))),e;var e},get children(){return t(a,{get when(){return L().length>0},get fallback(){return e=o(C),r=e.firstChild.nextSibling,i(r,()=>S()("progress.recommendations.noDue")),e;var e,r},get children(){var e=o(f);return i(e,t(d,{get each(){return L()},children:e=>{const r=(e=>{switch(e){case"high":return{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 text-white"};case"medium":return{bg:"bg-orange-50",border:"border-orange-200",icon:"text-orange-600",button:"bg-orange-600 hover:bg-orange-700 text-white"};case"low":return{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 text-white"}}})(e.urgency);return(()=>{var t=o($),s=t.firstChild.firstChild,a=s.nextSibling.firstChild,d=a.nextSibling,c=d.nextSibling,g=c.firstChild,[m,p]=n(g.nextSibling);return m.nextSibling,i(s,()=>(e=>{switch(e){case"overdue":return o(b);case"today":return o(v);case"new":return o(x);case"continue":return o(w)}})(e.icon)),i(a,()=>e.title),i(d,()=>e.description),i(c,()=>e.actionLabel,m,p),l(o=>{var n=`recommendation-card rounded-lg border-2 p-6 transition-shadow hover:shadow-md ${r.bg} ${r.border}`,i=`rec-${e.id}-title`,d=`flex-shrink-0 ${r.icon}`,l=`rec-${e.id}-title`,g=e.actionUrl,m=`inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition-colors focus:outline-none focus:ring-4 focus:ring-offset-2 ${r.button}`,p=`${e.actionLabel} - ${e.title}`;return n!==o.e&&u(t,o.e=n),i!==o.t&&h(t,"aria-labelledby",o.t=i),d!==o.a&&u(s,o.a=d),l!==o.o&&h(a,"id",o.o=l),g!==o.i&&h(c,"href",o.i=g),m!==o.n&&u(c,o.n=m),p!==o.s&&h(c,"aria-label",o.s=p),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),t})()}})),e}})}}),p,y),e}})};export{S as default};
